(this.webpackJsonphorse=this.webpackJsonphorse||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r,c=n(1),i=n.n(c),a=n(7),s=n.n(a),o=(n(13),n(5)),l=n(8),u=n(3),d=n(2),j=(n(14),n(0)),b=["speed","stamina","power","sprit","intelligence"],h={speed:"#58aef8",stamina:"#ee7b67",power:"#f2a940",sprit:"#ee82a9",intelligence:"#55bc81"},f=[{turn:12,title:"\u30b8\u30e5\u30cb\u30a2\u7d1a\u30e1\u30a4\u30af\u30c7\u30d3\u30e5\u30fc",grade:"Debut",location:"Hanshin",surface:"turf",distance:2e3,track:"right-handed",side:"inner",fullGate:9}],x=["Speed","Stamina","Power","Sprit","Intelligence","Rest","Hospital","Race"],O=[12,27,34,44,56];function p(e){var t=e.className,n=e.value,r=e.onChange;return Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(j.jsx)("button",{disabled:0===n,onClick:function(e){var t;switch(e.preventDefault(),e.stopPropagation(),e.button){case 0:t=1;break;case 1:t=5;break;default:return}r(Math.max(n-t,0))},children:"-"}),Object(j.jsx)("input",{className:t,style:{flexGrow:1,textAlign:"center"},type:"number",min:0,value:n,onChange:function(e){var t;r(null!==(t=e.target.valueAsNumber)&&void 0!==t?t:0)}}),Object(j.jsx)("button",{onClick:function(e){var t;switch(e.preventDefault(),e.stopPropagation(),e.button){case 0:t=1;break;case 1:t=5;break;default:return}r(n+t)},children:"+"})]})}function v(e){var t=e.status,n=e.isPlaceholder,r=e.id,c=e.onChange;return Object(j.jsx)(p,{className:n?"placeholder":"",value:t[r],onChange:function(e){c(Object(d.a)(Object(d.a)({},t),{},Object(u.a)({},r,e)))}})}function g(e){var t=e.current,n=e.previous,r=e.id,c=e.sum,i=e.color,a=n?function(e){return e<0?e.toString():0===e?"":e>0?"+".concat(e):""}(t[r]-n[r]):"",s=t[r]/c;return Object(j.jsxs)("div",{style:{background:i,flexGrow:s,width:0,overflow:"hidden"},children:[(100*s).toFixed(2)+"%",a]})}function m(e,t){for(var n=t;n>=0;n-=1)if(e[n])return e[n]}function w(e){var t=e.turn,n=e.race;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{colSpan:3,rowSpan:2}),Object(j.jsx)("td",{colSpan:6,children:n.title})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Prediction"}),b.map((function(e){var r;return Object(j.jsx)("td",{children:null===(r=t.predictions[n.title])||void 0===r?void 0:r[e]},e)}))]})]})}function S(e){var t,n,r=e.turns,i=e.normalized,a=e.index,s=e.onChange;r[a]?(t=r[a],n=!1):(t=m(r,a),n=!0);var u=function(e){var t=r.slice();t[a]=e,s(t)},p=1,S=null;if(!n){var y=b.reduce((function(e,n){return e+t[n]}),0);if(0!==y){var C=m(r,a-1);if(S=Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row",height:23},children:b.map((function(e){return Object(j.jsx)(g,{current:t,previous:C,id:e,sum:y,color:h[e]})}))}),p+=1,!i){var k,N=0,P=Object(l.a)(r);try{var F=function(){var e=k.value;if(!e)return"continue";var t=b.reduce((function(t,n){return t+e[n]}),0);t>N&&(N=t)};for(P.s();!(k=P.n()).done;)F()}catch(G){P.e(G)}finally{P.f()}S=Object(j.jsx)("div",{style:{width:y/N*100+"%"},children:S})}S=Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:5,children:S})})}}var I=O.includes(a),A=Object(c.useState)(!1),D=Object(o.a)(A,2),T=D[0],J=D[1],z=null;return T&&(z=f.filter((function(e){return e.turn===a})).map((function(e){return Object(j.jsx)(w,{turn:t,race:e},e.title)}))),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{rowSpan:p,children:f.some((function(e){return e.turn===a}))&&Object(j.jsx)("button",{style:{width:20,height:20,padding:0,textAlign:"center",lineHeight:"18px"},onClick:function(e){J((function(e){return!e}))},children:T?"-":"+"})}),Object(j.jsx)("td",{rowSpan:p,children:a}),Object(j.jsx)("td",{rowSpan:p,children:O[O.findIndex((function(e){return e>=a}))]-a}),Object(j.jsx)("td",{rowSpan:p,children:0!==a&&Object(j.jsxs)("select",{disabled:O.includes(a),value:I?"Race":n?"":t.action,onChange:function(e){return u(Object(d.a)(Object(d.a)({},t),{},{action:e.currentTarget.value}))},children:[Object(j.jsx)("option",{disabled:!0,value:""}),x.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})}),b.map((function(e){return Object(j.jsx)("td",{children:Object(j.jsx)(v,{status:t,isPlaceholder:n,id:e,onChange:u})})}))]}),S,z]})}var y=null!==(r=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}("status"))&&void 0!==r?r:[{action:"Initial",speed:0,stamina:0,power:0,sprit:0,intelligence:0,predictions:{}}];var C=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(y),a=Object(o.a)(i,2),s=a[0],l=a[1],u=function(e){localStorage.setItem("status",JSON.stringify(e)),l(e)};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"checkbox",checked:n,onChange:function(e){return r(e.currentTarget.checked)}}),Object(j.jsx)("span",{children:"Normalize"})]}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{}),Object(j.jsx)("td",{children:"Turn"}),Object(j.jsx)("td",{children:"Next race"}),Object(j.jsx)("td",{children:"Action"}),b.map((function(e){return Object(j.jsx)("td",{children:e[0].toUpperCase()+e.substring(1)})}))]})}),Object(j.jsx)("tbody",{children:Array.from({length:58},(function(e,t){return Object(j.jsx)(S,{turns:s,index:t,normalized:n,onChange:u},t)}))})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root")),k()}},[[16,1,2]]]);
//# sourceMappingURL=main.4d9b523d.chunk.js.map